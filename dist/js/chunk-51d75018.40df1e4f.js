(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51d75018"],{"11ac":function(t,i,e){},"28fd":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"dialogSharingFriends-container"},[e("van-popup",{attrs:{"close-on-click-overlay":!1},model:{value:t.dialogVisible.show,callback:function(i){t.$set(t.dialogVisible,"show",i)},expression:"dialogVisible.show"}},[e("h3",[t._v(" 分享好友")]),e("div",{staticClass:"share-messenger",staticStyle:{"font-size":"36px"},on:{click:t.shareMessenger}},[t._v("Messenger")]),e("div",{staticClass:"share-whatsapp",staticStyle:{"font-size":"36px"},on:{click:t.shareWhatsapp}},[t._v("whatsapp")]),e("div",{staticClass:"share-line",staticStyle:{"font-size":"36px"},on:{click:t.shareLine}},[t._v("LINE")]),e("div",{staticClass:"share-facebook",staticStyle:{"font-size":"36px"},on:{click:t.shareFacebook}},[t._v("FB")])])],1)},a=[],n=e("0348"),o=e("f121"),r={name:"dialogSharingFriends",props:{dialogVisible:{type:Object,default(){return{show:!1}}},shareInfo:{type:Object,default(){return{shareUrl:window.location.origin+"/forBargain",shareTitle:"分享标题",shareDescription:"分享的描述",shareImage:"https://s.pinimg.com/images/facebook_share_image.png",quote:"FB随分享的链接一同显示的引文可由用户自行高亮选择，也可由开发者预先定义（例如文章的醒目引文）"}}}},methods:{shareMessenger(){const t=o["a"].appId;console.log("appId: ",t);const i="https://liuming.mynatapp.cc/forBargain";window.location.href=`fb-messenger://share/?link=${i}/&app_id=${t}`},shareWhatsapp(){var t=this.shareInfo.shareTitle;const i=encodeURIComponent("\n\n"+this.shareInfo.shareUrl);window.location.href="whatsapp://send?text="+encodeURIComponent(t)+i+"&via=lopscoop"},shareLine(){const t=encodeURIComponent("https://liuming.mynatapp.cc/forBargain");window.location.href=`line://msg/text/${t}`},shareFacebook(){var t=this;return Object(n["a"])(function*(){const i="https://liuming.mynatapp.cc/forBargain?a=1",e=t.shareInfo.quote;yield window.$faceBookApi.shareFB(i,e)})()}}},c=r,h=e("17cc"),l=Object(h["a"])(c,s,a,!1,null,"1abb7180",null);i["a"]=l.exports},"383f":function(t,i,e){},5616:function(t,i,e){"use strict";e.d(i,"b",function(){return a}),e.d(i,"a",function(){return n});var s=e("007a");function a(t){let i=t.spu_id;return s["a"].get({url:"/api/v1/share/shareSpu",data:{spu_id:i}})}function n(t){let i=t.bargain_id;return s["a"].post({url:"/api/v1/share/shareBargain",data:{bargain_id:i}})}},"595f":function(t,i,e){t.exports=e.p+"img/good-large.47423e8c.png"},6727:function(t,i,e){},"7e1f":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"commodityItem-container"},[s("div",{staticClass:"home-goods-item"},[s("div",{staticClass:"goods-img"},[t.itemData.spu_pics&&t.itemData.spu_pics.length>0?s("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.itemData.spu_pics,function(t,i){return s("van-swipe-item",{key:i},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t||e("595f"),expression:"swipeItem || require('@/assets/images/good-large.png')"}]})])}),1):s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.itemData.imgUrl||e("595f"),expression:"itemData.imgUrl || require('@/assets/images/good-large.png')"}]})],1),s("div",{staticClass:"goods-detail"},[s("a",{staticClass:"goods-title",attrs:{href:t.itemData.path||"/"}},[t._v(t._s(t.itemData.title||""))]),s("p",{staticClass:"goods-description"},[t._v(t._s(t.itemData.description||""))]),s("p",{staticClass:"goods-description"},[t._v(t._s(t.itemData.deliver_count)+" Sent")]),s("div",{staticClass:"goods-price"},[s("span",{staticClass:"discount"},[t._v("$ "+t._s(t.itemData.discount||0))]),s("span",{staticClass:"real"},[t._v("$"+t._s(t.itemData.realAmount||0))])])]),s("div",{staticClass:"goods-control"},[s("a",{staticClass:"button-l",attrs:{href:"javascrip:;"},on:{click:t.cashBack}},[t._v("\n        Cash Back\n      ")]),s("a",{staticClass:"button-r",attrs:{href:"javascrip:;"},on:{click:t.jumpBargain}},[t._v("Get Freebie")])])]),s("dialog-sharing-friends",{attrs:{dialogVisible:t.dialogs.sharingFriends,shareInfo:t.shareInfo},on:{"update:dialogVisible":function(i){return t.$set(t.dialogs,"sharingFriends",i)},"update:dialog-visible":function(i){return t.$set(t.dialogs,"sharingFriends",i)}}})],1)},a=[],n=e("0348"),o=e("5fbf"),r=(e("f735"),e("383f"),e("219f")),c=e("24bc"),h=Object(c["g"])("swipe-item"),l=h[0],u=h[1],d=l({data:function(){return{offset:0}},beforeCreate:function(){this.$parent.swipes.push(this)},destroyed:function(){this.$parent.swipes.splice(this.$parent.swipes.indexOf(this),1)},render:function(t){var i=this.$parent,e=i.vertical,s=i.computedWidth,a=i.computedHeight,n={width:s+"px",height:e?a+"px":"100%",transform:"translate"+(e?"Y":"X")+"("+this.offset+"px)"};return t("div",{class:u(),style:n,on:Object(r["a"])({},this.$listeners)},[this.slots()])}}),p=(e("11ac"),e("7c47")),f=e("8561"),g=Object(c["g"])("swipe"),m=g[0],v=g[1],w=m({mixins:[f["a"]],props:{width:Number,height:Number,autoplay:Number,vertical:Boolean,initialSwipe:Number,indicatorColor:String,loop:{type:Boolean,default:!0},touchable:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},duration:{type:Number,default:500}},data:function(){return{computedWidth:0,computedHeight:0,offset:0,active:0,deltaX:0,deltaY:0,swipes:[],swiping:!1}},mounted:function(){this.initialize(),this.$isServer||Object(p["b"])(window,"resize",this.onResize,!0)},activated:function(){this.rendered&&this.initialize(),this.rendered=!0},destroyed:function(){this.clear(),this.$isServer||Object(p["a"])(window,"resize",this.onResize,!0)},watch:{swipes:function(){this.initialize()},initialSwipe:function(){this.initialize()},autoplay:function(t){t?this.autoPlay():this.clear()}},computed:{count:function(){return this.swipes.length},delta:function(){return this.vertical?this.deltaY:this.deltaX},size:function(){return this[this.vertical?"computedHeight":"computedWidth"]},trackSize:function(){return this.count*this.size},activeIndicator:function(){return(this.active+this.count)%this.count},isCorrectDirection:function(){var t=this.vertical?"vertical":"horizontal";return this.direction===t},trackStyle:function(){var t,i=this.vertical?"height":"width",e=this.vertical?"width":"height";return t={},t[i]=this.trackSize+"px",t[e]=this[e]?this[e]+"px":"",t.transitionDuration=(this.swiping?0:this.duration)+"ms",t.transform="translate"+(this.vertical?"Y":"X")+"("+this.offset+"px)",t},indicatorStyle:function(){return{backgroundColor:this.indicatorColor}}},methods:{initialize:function(t){if(void 0===t&&(t=this.initialSwipe),clearTimeout(this.timer),this.$el){var i=this.$el.getBoundingClientRect();this.computedWidth=this.width||i.width,this.computedHeight=this.height||i.height}this.swiping=!0,this.active=t,this.offset=this.count>1?-this.size*this.active:0,this.swipes.forEach(function(t){t.offset=0}),this.autoPlay()},onResize:function(){this.initialize(this.activeIndicator)},onTouchStart:function(t){this.touchable&&(this.clear(),this.swiping=!0,this.touchStart(t),this.correctPosition())},onTouchMove:function(t){this.touchable&&this.swiping&&(this.touchMove(t),this.isCorrectDirection&&(t.preventDefault(),t.stopPropagation(),this.move(0,Math.min(Math.max(this.delta,-this.size),this.size))))},onTouchEnd:function(){if(this.touchable&&this.swiping){if(this.delta&&this.isCorrectDirection){var t=this.vertical?this.offsetY:this.offsetX;this.move(t>0?this.delta>0?-1:1:0)}this.swiping=!1,this.autoPlay()}},move:function(t,i){void 0===t&&(t=0),void 0===i&&(i=0);var e=this.delta,s=this.active,a=this.count,n=this.swipes,o=this.trackSize,r=0===s,c=s===a-1,h=!this.loop&&(r&&(i>0||t<0)||c&&(i<0||t>0));h||a<=1||(n[0]&&(n[0].offset=c&&(e<0||t>0)?o:0),n[a-1]&&(n[a-1].offset=r&&(e>0||t<0)?-o:0),t&&s+t>=-1&&s+t<=a&&(this.active+=t),this.offset=i-this.active*this.size)},swipeTo:function(t){var i=this;this.swiping=!0,this.resetTouchStatus(),this.correctPosition(),setTimeout(function(){i.swiping=!1,i.move(t%i.count-i.active)},30)},correctPosition:function(){this.active<=-1&&this.move(this.count),this.active>=this.count&&this.move(-this.count)},clear:function(){clearTimeout(this.timer)},autoPlay:function(){var t=this,i=this.autoplay;i&&this.count>1&&(this.clear(),this.timer=setTimeout(function(){t.swiping=!0,t.resetTouchStatus(),t.correctPosition(),setTimeout(function(){t.swiping=!1,t.move(1),t.autoPlay()},30)},i))},onTransitionend:function(t){t.currentTarget===this.$refs.track&&this.$emit("change",this.activeIndicator)}},render:function(t){var i=this,e=this.count,s=this.activeIndicator,a=this.slots("indicator")||this.showIndicators&&e>1&&t("div",{class:v("indicators",{vertical:this.vertical})},[Array.apply(void 0,Array(e)).map(function(e,a){return t("i",{class:v("indicator",{active:a===s}),style:a===s?i.indicatorStyle:null})})]);return t("div",{class:v()},[t("div",{ref:"track",style:this.trackStyle,class:v("track"),on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd,transitionend:this.onTransitionend}},[this.slots()]),a])}}),b=e("28fd"),y=e("5616");const _={Swipe:w,SwipeItem:d},k={};for(let $ in _)k[_[$].name]=_[$];var C={name:"commodityItem",components:Object(o["a"])({dialogSharingFriends:b["a"]},k),props:{itemData:{type:Object,default(){return{spu_id:1,title:"mock",price:1,deliver_count:1,spu_pics:["http://www.pptok.com/wp-content/uploads/2012/08/xunguang-4.jpg","https://img.yzcdn.cn/public_files/2017/09/05/4e3ea0898b1c2c416eec8c11c5360833.jpg"]}}}},data(){return{dialogs:{sharingFriends:{show:!1}},shareInfo:{shareUrl:window.location.origin+"/forBargain",shareTitle:"分享标题",shareDescription:"分享的描述",shareImage:"https://s.pinimg.com/images/facebook_share_image.png",quote:"FB随分享的链接一同显示的引文可由用户自行高亮选择，也可由开发者预先定义（例如文章的醒目引文）"}}},created(){console.log("66666666666666666666",this.itemData)},methods:{cashBack(){var t=this;return Object(n["a"])(function*(){let i=yield Object(y["b"])({spu_id:t.itemData.spu_id});i&&(t.shareInfo=i.data.share_info),t.dialogs.sharingFriends.show=!0})()},jumpBargain(){this.$router.push({path:"/bargain",query:{spuId:this.itemData.spu_id}})}}},z=C,S=(e("a28f"),e("17cc")),I=Object(S["a"])(z,s,a,!1,null,"05982f97",null);i["a"]=I.exports},a28f:function(t,i,e){"use strict";var s=e("6727"),a=e.n(s);a.a},af87:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"bargainingProgressBar-container"},[t._v("\n  砍价进度条\n")])},a=[],n={name:"bargainingProgressBar"},o=n,r=e("17cc"),c=Object(r["a"])(o,s,a,!1,null,"9152d290",null);i["a"]=c.exports}}]);