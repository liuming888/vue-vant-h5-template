(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c65f0da"],{"1bd8":function(a,i,t){"use strict";var s=t("9b56"),e=t.n(s);e.a},"2eaa":function(a,i,t){"use strict";var s=t("d5b2"),e=t.n(s);e.a},"595f":function(a,i,t){a.exports=t.p+"img/good-large.47423e8c.png"},"5b3c":function(a,i,t){"use strict";t.r(i);var s=function(){var a=this,i=a.$createElement,s=a._self._c||i;return s("div",{staticClass:"bargain-container"},[s("div",{staticClass:"bargain-header"},[s("div",{staticClass:"bargain-info-box"},[s("div",{staticClass:"bargain-info"},[s("div",{staticClass:"img-box"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.spu.pic_urls[0]||t("595f"),expression:"spu.pic_urls[0]||require('./../assets/images/good-large.png')"}]})]),s("div",{staticClass:"detail"},[s("p",{staticClass:"title"},[a._v(a._s(a.spu.title))]),s("div",{staticClass:"count-down"},[s("span",{staticClass:"time"},[a._v(a._s(a.expirationDat.h))]),a._v("\n            :\n            "),s("span",{staticClass:"time"},[a._v(a._s(a.expirationDat.p))]),a._v("\n            :\n            "),s("span",{staticClass:"time"},[a._v(a._s(a.expirationDat.m))]),s("span",{staticClass:"dec"},[a._v("overdued")])]),s("div",{staticClass:"price-box"},[a._m(0),a._m(1),s("div",{staticClass:"price-box-item"},[s("p",{staticClass:"p-n-2"},[a._v(a._s(a.spu.deliver_count)+" Sent")])])])])]),s("div",{staticClass:"bargain-schedule"},[s("p",{staticClass:"title"},[a._v("Has been cut "),s("span",{staticClass:"n-1"},[s("span",{staticClass:"dollar"},[a._v("$")]),a._v(a._s(a.bargain_info.bargain_price||0))]),a._v(", leaving "),s("span",{staticClass:"n-2"},[s("span",{staticClass:"dollar"},[a._v("$")]),a._v(a._s(a.bargain_info.left_price||a.spu.price))])]),s("div",{staticClass:"schedule"},[s("div",{staticClass:"active ball ball-right",style:{width:100*a.bargain_info.left_price+"%"}}),s("div",{staticClass:"schedule-item"},[s("span",{staticClass:"description"},[a._v("cut "),s("span",{staticClass:"highlight"},[a._v(a._s(a.bargain_info.bargain_price/a.bargain_info.left_price*100)+"%")])])]),a._m(2),a._m(3)])])])]),s("div",{staticClass:"bargain-content"},[a.$route.query.bargainId?s("div",{staticClass:"team-box"},[s("p",{staticClass:"page-title"},[a._v("Bargaining team")]),s("ul",{staticClass:"team-list"},a._l(a.help_bargain_list,function(i,t){return s("li",{key:t,staticClass:"team-list-item"},[s("div",{staticClass:"column"},[s("div",{staticClass:"team-img first"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.friend_avatar,expression:"item.friend_avatar"}]})]),s("div",{staticClass:"team-info"},[s("p",{staticClass:"team-name"},[a._v(a._s(i.username))])])]),s("div",{staticClass:"column"},[a._v("cut "),s("span",{staticClass:"dollar"},[a._v("$"),s("span",[a._v(a._s(i.bargain_amount))])])])])}),0)]):s("div",{staticClass:"goods-detail"}),s("div",{staticClass:"recommend-products"},[s("p",{staticClass:"page-title"},[a._v("More Products")]),a._l(a.spu_list,function(i){return s("div",{key:i.spu_id,staticClass:"recommend-item"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.pic_urls&&i.pic_urls[0]||t("595f"),expression:"item.pic_urls&&item.pic_urls[0]||require('./../assets/images/good-large.png')"}],staticClass:"products-photo"}),s("p",{staticClass:"products-title"},[a._v(a._s(i.title))]),s("div",{staticClass:"products-ctrl"},[s("span",{staticClass:"money"},[a._v(a._s(i.deliver_count)+" Sent")]),s("a",{staticClass:"btn",attrs:{href:"javascrip:;"},on:{click:function(t){return a.jumpCurBargainPage(i.spu_id)}}},[a._v("Get Freebie")])])])})],2)]),s("div",{staticClass:"down-box"},[s("div",{staticClass:"home-btn",on:{click:function(i){return i.stopPropagation(),a.$router.push({path:"/"})}}},[s("img",{attrs:{src:t("c122")}}),s("p",[a._v("HOME")])]),s("div",{staticClass:"buy-now",on:{click:function(i){return i.stopPropagation(),a.jumpBuyPage(i)}}},[s("div",{staticClass:"paly-num"},[a._v("$19.8")]),s("p",[a._v("buy now")])]),s("div",{staticClass:"share-friends",on:{click:function(i){return i.stopPropagation(),a.openSharingFriendsDialog(i)}}},[a._v("\n      Share to friends\n    ")])]),s("dialog-sharing-friends",{attrs:{dialogVisible:a.dialogs.sharingFriends,shareInfo:a.shareInfo},on:{"update:dialogVisible":function(i){return a.$set(a.dialogs,"sharingFriends",i)},"update:dialog-visible":function(i){return a.$set(a.dialogs,"sharingFriends",i)}}})],1)},e=[function(){var a=this,i=a.$createElement,t=a._self._c||i;return t("div",{staticClass:"price-box-item"},[t("p",{staticClass:"p-t-1"},[a._v("\n                Price\n                "),t("span",[a._v("$")]),t("span",[a._v("999")])]),t("p",{staticClass:"p-t-2"},[a._v("current price")])])},function(){var a=this,i=a.$createElement,t=a._self._c||i;return t("div",{staticClass:"price-box-item"},[t("p",{staticClass:"p-n-1"},[t("span",[a._v("$")]),a._v("9.80")])])},function(){var a=this,i=a.$createElement,t=a._self._c||i;return t("div",{staticClass:"schedule-item ball ball-center"},[t("span",{staticClass:"description"},[a._v("Available for purchase")])])},function(){var a=this,i=a.$createElement,t=a._self._c||i;return t("div",{staticClass:"schedule-item ball ball-right"},[t("span",{staticClass:"description"},[a._v("Take it free")])])}],n=t("5fbf"),r=t("0348"),l=t("af87"),c=function(){var a=this,i=a.$createElement,s=a._self._c||i;return s("div",{directives:[{name:"show",rawName:"v-show",value:a.dialogVisible.show,expression:"dialogVisible.show"}],staticClass:"dialogSharingFriends-container",on:{click:function(i){i.stopPropagation(),a.abc=1}}},[s("div",{staticClass:"share-box"},[s("h5",{staticClass:"tit"},[a._v("Share To")]),s("div",{staticClass:"share-types"},[s("img",{staticClass:"fb",attrs:{src:t("82db"),alt:"fb"},on:{click:a.mx_shareFacebook}})]),s("div",{staticClass:"tip"},[a._v("\n      Tip: Sharing to new friends will cut faster and more.\n    ")]),s("button",{ref:"copy",staticClass:"copy-link",attrs:{"data-clipboard-action":"copy","data-clipboard-target":"#success_form_input"},on:{click:a.mx_copyLink}},[a._v("Copy Link")]),s("div",{staticClass:"close-img"}),s("input",{directives:[{name:"model",rawName:"v-model",value:a.mx_copyUrl,expression:"mx_copyUrl"}],staticStyle:{"margin-left":"-99999px"},attrs:{type:"text",id:"success_form_input",readonly:"readonly"},domProps:{value:a.mx_copyUrl},on:{input:function(i){i.target.composing||(a.mx_copyUrl=i.target.value)}}})])])},o=[],p=(t("f121"),t("0f35")),u={mixins:[p["a"]],name:"dialogSharingFriends",props:{dialogVisible:{type:Object,default(){return{show:!1}}},shareInfo:{type:Object,default(){return{shareUrl:window.location.origin+"/forBargain",shareTitle:"分享标题",shareDescription:"分享的描述",shareImage:"https://s.pinimg.com/images/facebook_share_image.png",quote:"FB随分享的链接一同显示的引文可由用户自行高亮选择，也可由开发者预先定义（例如文章的醒目引文）"}}}}},_=u,d=(t("2eaa"),t("8c9c")),g=Object(d["a"])(_,c,o,!1,null,"18595b18",null),v=g.exports,m=function(){var a=this,i=a.$createElement,t=a._self._c||i;return t("div",{staticClass:"bargainingHelpInformation-container"},[a._v("\n  砍价帮\n")])},f=[],b={name:"bargainingHelpInformation"},h=b,C=Object(d["a"])(h,m,f,!1,null,"5fa52e4b",null),y=C.exports,x=t("996b"),k=t("5616"),w=t("007a");function $(a){let i=a.bargain_id;return w["a"].post({url:"/api/v1/bargain/get_bargain_info",data:{bargain_id:i}})}function j(a){let i=a.bargain_id,t=a.page_size,s=a.page_num;return w["a"].post({url:"/api/v1/bargain/get_help_bargain_list",data:{bargain_id:i,page_size:t,page_num:s}})}var I={components:{bargainingProgressBar:l["a"],dialogSharingFriends:v,bargainingHelpInformation:y},data(){return{dialogs:{sharingFriends:{show:!1}},shareInfo:{shareUrl:window.location.origin+"/forBargain",shareTitle:"分享标题",shareDescription:"分享的描述",shareImage:"https://s.pinimg.com/images/facebook_share_image.png",quote:"FB随分享的链接一同显示的引文可由用户自行高亮选择，也可由开发者预先定义（例如文章的醒目引文）"},spu:{spu_id:1,title:"mock",pic_urls:["mock"],specs:[{spec_name:"mock",spec_values:["mock"]}],price:"mock",desp:"mock",expire_ttl:"mock",expire_time:"mock",deliver_count:"mock"},bargain_info:{bargain_id:1,bargain_rate:1,bargain_price:1,left_price:1},expirationDat:{h:"24",p:"00",m:"00"},help_bargain_list:[{user_id:1,username:"mock",bargain_amount:1,bargain_time:"mock",friend_avatar:t("ec87")}],helpBargainPageDat:{page_size:10,page_num:1},spu_list:[{spu_id:2,title:"mock",price:1,deliver_count:1,pic_urls:[]}]}},created(){this.init()},methods:{init(){this.initSpuInfo(),this.initBargainInfo(),this.initHelpBargainList(),this.initSpuList()},initSpuInfo(){var a=this;return Object(r["a"])(function*(){let i=yield Object(x["b"])({spu_id:a.$route.query.spu_Id});if(i){let t=i.data.spu;for(let i in t)a.spu[i]=t[i];a.refreshTime()}})()},initBargainInfo(){var a=this;return Object(r["a"])(function*(){let i=yield $({bargain_id:a.$route.query.bargain_id});if(i){const t=i.data,s=t.bargain_info,e=t.spu;a.bargain_info=s;for(let i in e)a.spu[i]=e[i]}})()},initHelpBargainList(){var a=this;return Object(r["a"])(function*(){let i=yield j(Object(n["a"])({bargain_id:a.$route.query.bargainId},a.helpBargainPageDat));i&&(a.help_bargain_list=i.data.help_bargain_list)})()},initSpuList(){var a=this;return Object(r["a"])(function*(){let i=yield Object(x["a"])({page_size:16,page_num:1,is_all:0});i&&(a.spu_list=i.data.spu_list)})()},openSharingFriendsDialog(){var a=this;return Object(r["a"])(function*(){let i=yield Object(k["b"])({spu_id:a.$route.spu_id});i&&(a.shareInfo=i.data.share_info,a.dialogs.sharingFriends.show=!0)})()},jumpCurBargainPage(a){this.$router.push({path:"/bargain",query:{spuId:a}})},jumpBuyPage(){this.$router.push({path:"/purchase",query:Object(n["a"])({},this.$route.query)})},refreshTime(){let a=this.$util.expiration(this.spu.expire_ttl);if(!a)return;this.expirationDat=a;const i=setInterval(()=>{this.expirationDat=his.$util.expiration(this.spu.expire_ttl)},1e3);this.$once("hook:beforeDestroy",()=>{clearInterval(i)})}}},B=I,O=(t("1bd8"),Object(d["a"])(B,s,e,!1,null,"35515858",null));i["default"]=O.exports},"996b":function(a,i,t){"use strict";t.d(i,"c",function(){return e}),t.d(i,"b",function(){return n}),t.d(i,"a",function(){return r});var s=t("007a");function e(a){let i=a.page_size,t=a.page_num;return s["a"].post({url:"/api/v1/spu/get_mybargain_spus",data:{page_size:i,page_num:t}})}function n(a){let i=a.spu_id;return s["a"].post({url:"/api/v1/spu/get_info",data:{spu_id:i}})}function r(a){let i=a.page_size,t=a.page_num,e=a.is_all;return s["a"].post({url:"/api/v1/spu/get_bargain_spus",data:{page_size:i,page_num:t,is_all:e}})}},"9b56":function(a,i,t){},af87:function(a,i,t){"use strict";var s=function(){var a=this,i=a.$createElement,t=a._self._c||i;return t("div",{staticClass:"bargainingProgressBar-container"},[a._v("\n  砍价进度条\n")])},e=[],n={name:"bargainingProgressBar"},r=n,l=t("8c9c"),c=Object(l["a"])(r,s,e,!1,null,"9152d290",null);i["a"]=c.exports},d5b2:function(a,i,t){}}]);