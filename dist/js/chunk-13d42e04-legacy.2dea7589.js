(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-13d42e04"],{"23b7":function(e,t){e.exports="data:image/png;base64,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"},"24df":function(e,t,n){(e.exports=n("690e")(!1)).push([e.i,".dialogLoginSelect-container[data-v-6d314d72]{width:100vw;height:100vh;background:rgba(0,0,0,.5);position:fixed;top:0;left:0;z-index:100;padding-top:2.66667rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.dialogLoginSelect-container .dialog-content[data-v-6d314d72]{width:8.24rem;height:8.34667rem;background-size:100% 100%;position:relative}.dialogLoginSelect-container .dialog-content .tips[data-v-6d314d72]{width:6.66667rem;font-size:.34667rem;font-weight:700;color:#fff;line-height:.50667rem;margin:2.8rem auto 0;text-align:center}.dialogLoginSelect-container .dialog-content .close-img[data-v-6d314d72]{display:block;width:.93333rem;height:auto;position:absolute;bottom:-1.2rem;left:0;right:0;margin:0 auto}.dialogLoginSelect-container .dialog-content .login-types[data-v-6d314d72]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:absolute;bottom:.66667rem}.dialogLoginSelect-container .dialog-content .login-types .login-item[data-v-6d314d72]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-right:.26667rem;text-align:center;font-size:.26667rem;color:#323232}.dialogLoginSelect-container .dialog-content .login-types .login-item img[data-v-6d314d72]{width:1.73333rem;height:auto}",""])},"288c":function(e,t,n){"use strict";var i=n("bee0");n.n(i).a},"59d0":function(e,t,n){"use strict";n("4453");var i=n("fa8b"),o=n("f121");t.a={beforeCreate:function(){window.FB||(n("e47c"),window.fbAsyncInit=Object(i.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:FB.init(o.a),FB.AppEvents.logPageView();case 3:case"end":return e.stop()}},e)})))}}},"6eff":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAXVBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzQDM+LAAAAHnRSTlMAya/D3uvXZF2nPo/yGw34lBQJS+UmMrmHd2xVRDYH+mWiAAACHklEQVRYw62Y2ZqCMAyFTyt7AQFx177/Y04zg6NICVv+C/mkeEzTJqQBwzOptArCPA8DpavkieUUcdraL9o0LrCEQ5rbjrwNgvb/2z49YC6J+vuJMrfsWDdAUx+zm1F7S6hkniXqV0MnxWCiif5VUtMWFSk9GFyLkeFrQOPphI/uIYncwHAjofAOBmMdlwYszYWeMhhF08RPmORE7jvDT6kGf8KaHZVelcgNxZhJPKZDKg/M5kE6GHB2tzMsIPP5xzC2MPaYr63L+IX1z6HnXrfJKyymckFT9jdMhOXQsui+t45YwbG3LoGLAKzi8jGNuws1rMSF8v09wxgrif/NyXhjps3JXst0xWqu3WKVzts1VlN3eychuSHP3WA/pueTP0kl3cW/sxR6KM8efZsR+ueU2i8dRancP6sQONHTHpod6fRVlC9L08gJ8WhQqk+dl6g/QGMY+hjX2U2qkCEGmkl6O9KZUkFGPlYU3KxOd+HCXCGweQ1WR2tWBXVuA7febQNeh1dB07oVJykOTSoaDDQhIRmhSUm4eG8DoQUX2H4PZ7BQMAiFplCi2J62CkpbMkmUSenndFFKL/fbXzAyrzuhl69MKSBbmCDaVCYJFW0yJaRQQStTXksV+/JHDyIamMhCbojkjmX+Q2I1e42sKiWOrHrqAF1uOEBvOM5vaS7Itzr4xotV1WfjpXrdTYTbQPJNKb5FZt4tMsO2yH4Ard5PekYm0V4AAAAASUVORK5CYII="},bee0:function(e,t,n){var i=n("24df");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),(0,n("85cb").default)("d7c85fba",i,!0,{sourceMap:!1,shadowMode:!1})},c244:function(e,t,n){"use strict";n.r(t);var i=n("1f09"),o=n.n(i),a=(n("3a23"),n("4453"),n("fa8b")),r=n("7f43"),s=n.n(r),c=n("3007"),l={name:"dialogLoginSelect",mixins:[n("59d0").a,{methods:{mx_showLoad:function(){this.$loaddingNum++,this.$toast.loading({mask:!0,duration:0,forbidClick:!0})},mx_closeLoad:function(){this.$loaddingNum--,this.$loaddingNum<=0&&this.$toast.clear()}}}],data:function(){return{}},conputed:{setLoginSelectShow:function(){return this.$store.state.dialogs.loginSelect.show}},watch:{setLoginSelectShow:{handler:function(){"forBargain"===this.$route.path&&this.setLoginSelectShow&&this.$gaSend({eventCategory:"帮砍_第三方登陆浮窗",eventAction:"浮窗展示"})},deep:!0,immediate:!0}},methods:{close:function(){this.$store.commit("setLoginSelectShow",!1)},loginFB:function(){var e=Object(a.a)(regeneratorRuntime.mark(function e(){var t,n,i,a,r,l,d,p,u,g,f,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.mx_showLoad(),e.next=3,window.$faceBookApi.loginFB();case 3:if(!(t=e.sent)){e.next=28;break}return n=t.authResponse.accessToken,i=t.id,a=t.name,r=t.pic_square,l={tp_id:i,tp_token:n,tp_type:1,tp_username:a,tp_avatar:r},d=this.$route.query,p=d.spuId,u=d.bargainId,g=d.inviteUserId,f=d.source,p&&(l.spu_id=p),u&&(l.bargain_id=u),g&&(l.invite_user_id=g),f&&(l.source=f),e.next=15,Object(c.g)(l);case 15:if(m=e.sent,this.mx_closeLoad(),!m||!m.data){e.next=28;break}return h=m.data,this.$store.commit("setUserInfo",h),localStorage.setItem("userInfo",o()(h)),s.a.defaults.headers.common["User-Id"]=h.user_id,s.a.defaults.headers.common["Access-Token"]=h.access_token,this.$store.commit("setLoginSelectShow",!1),1==h.is_new&&(window.localStorage.setItem("newUserInfo",o()(h)),fbq("track","CompleteRegistration")),this.$store.state.dialogs.loginSelect.jumpUrl?window.location.href=this.$store.state.dialogs.loginSelect.jumpUrl:window.location.reload(),e.abrupt("return",!0);case 28:return this.mx_closeLoad(),e.abrupt("return",!1);case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},d=(n("288c"),n("17cc")),p=Object(d.a)(l,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dialogLoginSelect-container"},[t("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:n("d5d32"),expression:"require('@/assets/images/login-dialog.png')",arg:"background-image"}],staticClass:"dialog-content"},[t("div",{staticClass:"tips"},[this._v("\n      Tips: If you help your friend cut down the price, you will get cash rewards.\n    ")]),t("div",{staticClass:"login-types"},[t("div",{staticClass:"login-item",on:{click:this.loginFB}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n("23b7"),expression:"require('@/assets/images/facbook.png')"}]}),t("p",[this._v("Facebook login")])])]),t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n("6eff"),expression:"require('@/assets/images/guanbi@2x.png')"}],staticClass:"close-img",on:{click:this.close}})])])},[],!1,null,"6d314d72",null);t.default=p.exports},d5d32:function(e,t,n){e.exports=n.p+"img/login-dialog.1daf5f04.png"},e47c:function(e,t,n){"use strict";n.r(t);var i=n("8e61"),o=n("a59e"),a=n.n(o);!function(){function e(){try{e=document,t="script",n="facebook-jssdk",o=e.getElementsByTagName(t)[0],e.getElementById(n)||((i=e.createElement(t)).id=n,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(i,o))}catch(e){}var e,t,n,i,o}e.prototype.loginFB=function(){return new a.a(function(e){FB.login(function(t){"connected"===t.status?FB.api("/me",function(n){var o=Object(i.a)({},t,n);FB.api("/"+n.id+"/picture","GET",{redirect:"false"},function(t){var n=t.data.url;o=Object(i.a)({},o,{pic_square:n}),e(o)})}):e(!1)})})},e.prototype.checkFBLoginState=function(){var e=this;return new a.a(function(t,n){FB.getLoginStatus(function(i){e.statusChangeCallback(i).then(function(e){t(e)}).catch(function(e){n(!1)})})})},e.prototype.statusChangeCallback=function(e){return"connected"===e.status?this.getUserInfo(e):a.a.resolve(!1)},e.prototype.getUserInfo=function(e){return new a.a(function(t){FB.api("/me",function(n){var o=Object(i.a)({},e,n);FB.api("/"+n.id+"/picture","GET",{redirect:"false"},function(e){var n=e.data.url;o=Object(i.a)({},o,{pic_square:n}),t(o)})})})},e.prototype.logoutFB=function(){FB.logout(function(e){})},e.prototype.shareFB=function(e,t){return new a.a(function(n){FB.ui({method:"share",href:e,quote:t},function(e){e&&!e.error_message?n(e):n(!1)})})},window.$faceBookApi=new e}()}}]);